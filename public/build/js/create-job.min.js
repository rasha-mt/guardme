!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=59)}({1:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var a=(s=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(i).concat([a]).join("\n")}var s;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(o[i]=!0)}for(a=0;a<e.length;a++){var s=e[a];"number"==typeof s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},10:function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".google-map[data-v-1105171a]{width:100%;height:100%;margin:0 auto}",""])},11:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{mapName:this.name+"-map"}},name:"google-map",props:["name","markers","height"],mounted:function(){this.initMap()},methods:{initMap:function(){if(this.markers&&_.isArray(this.markers)&&this.markers.length){var e=document.getElementById(this.mapName),t=this.markers[0],n={zoom:14,center:new google.maps.LatLng(t.latitude,t.longitude)},o=new google.maps.Map(e,n);this.markers.forEach(function(e){var t=new google.maps.LatLng(e.latitude,e.longitude);new google.maps.Marker({position:t,map:o})})}}},watch:{markers:function(){this.initMap()}},computed:{mapHeight:function(){return this.height?this.height:300}}}},12:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"address-map fluid h-100 uk-position-relative bg-grey"},[n("div",{staticClass:"google-map",style:{height:e.mapHeight+"px"},attrs:{id:e.mapName}})])},staticRenderFns:[]}},2:function(e,t,n){var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a=n(3),i={},s=o&&(document.head||document.getElementsByTagName("head")[0]),r=null,d=0,c=!1,u=function(){},l="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e){for(var t=0;t<e.length;t++){var n=e[t],o=i[n.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](n.parts[a]);for(;a<n.parts.length;a++)o.parts.push(h(n.parts[a]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var s=[];for(a=0;a<n.parts.length;a++)s.push(h(n.parts[a]));i[n.id]={id:n.id,refs:1,parts:s}}}}function f(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function h(e){var t,n,o=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(o){if(c)return u;o.parentNode.removeChild(o)}if(l){var a=d++;o=r||(r=f()),t=v.bind(null,o,a,!1),n=v.bind(null,o,a,!0)}else o=f(),t=function(e,t){var n=t.css,o=t.media,a=t.sourceMap;o&&e.setAttribute("media",o);a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,o),n=function(){o.parentNode.removeChild(o)};return t(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap)return;t(e=o)}else n()}}e.exports=function(e,t,n){c=n;var o=a(e,t);return p(o),function(t){for(var n=[],s=0;s<o.length;s++){var r=o[s];(d=i[r.id]).refs--,n.push(d)}t?p(o=a(e,t)):o=[];for(s=0;s<n.length;s++){var d;if(0===(d=n[s]).refs){for(var c=0;c<d.parts.length;c++)d.parts[c]();delete i[d.id]}}}};var g,m=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function v(e,t,n,o){var a=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=m(t,a);else{var i=document.createTextNode(a),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}},3:function(e,t){e.exports=function(e,t){for(var n=[],o={},a=0;a<t.length;a++){var i=t[a],s=i[0],r={id:e+":"+a,css:i[1],media:i[2],sourceMap:i[3]};o[s]?o[s].parts.push(r):n.push(o[s]={id:s,parts:[r]})}return n}},4:function(e,t){e.exports=function(e,t,n,o,a,i){var s,r=e=e||{},d=typeof e.default;"object"!==d&&"function"!==d||(s=e,r=e.default);var c,u="function"==typeof r?r.options:r;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),a&&(u._scopeId=a),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=c):o&&(c=o),c){var l=u.functional,p=l?u.render:u.beforeCreate;l?(u._injectStyles=c,u.render=function(e,t){return c.call(t),p(e,t)}):u.beforeCreate=p?[].concat(p,c):[c]}return{esModule:s,exports:r,options:u}}},59:function(e,t,n){e.exports=n(60)},60:function(e,t,n){n(7),new window.App({el:"#app",data:function(){return{job:{title:"",description:"",address:{line1:"",line2:"",line3:"",line4:"",locality:"",city:"",county:"",coord:{latt:"",long:""},houseNumber:""},county:0,city:0,postcode:"",time:{start:"",end:""},wages:0,rating:0,company:null,categories:[],sectors:[],broadcastsConfig:[]},counties:{loading:!1,data:[],selected_county_id:null},cities:{loading:!1,data:[]},company:{data:{name:"",email:"",address:"",phone:""},saving:!1},companies:{data:[],loading:!1},categories:{data:[],loading:!1},sectors:{data:[],loading:!1},broadcastsConfig:{data:null,loading:!1},ratingMessage:"Minimum wage for all SIA Personnel is £8.00",step:1}},methods:{continue:function(){this.step++},previous:function(){this.step--},save:function(){var e=this;e.job.company_id=e.$root.getUrlVars().company,e.$root.showSplashScreen("Saving...."),window.axios.post("/api/jobs/new",e.job).then(function(t){e.$root.showSplashScreen("Job saved! Redirect...."),window.location.href="/account/jobs/schedule"}).catch(function(t){e.$root.hideSplashScreen()})},validateFinishForm:function(e){var t=this;this.$validator.validateAll(e).then(function(e){e?t.save():alert("You have provided invalid data. Please check again!")})},validateForm:function(e){var t=this;this.$validator.validateAll(e).then(function(e){e?t.continue():alert("You have provided invalid data. Please check again!")})},loadCounties:function(){var e=this;e.counties.loading=!0,window.axios.get("/api/app/counties").then(function(t){t.data.forEach(function(t){e.counties.data.push(t)}),setTimeout(function(){e.counties.loading=!1,$(".ui.dropdown.counties").dropdown({onChange:function(t,n,o){e.counties.selected_county_id=t,e.job.county=t}})},1e3)})},loadCities:function(e){var t=this;t.cities.loading=!0,window.axios.get("/api/app/counties/"+e+"/cities").then(function(e){t.cities.data=[],e.data.forEach(function(e){t.cities.data.push(e)}),setTimeout(function(){t.cities.loading=!1,$(".ui.dropdown.cities").dropdown({onChange:function(e,n,o){t.job.city=e}})},1e3)})},newCompanyModal:function(){$(".ui.modal").modal("show")},validateNewCompanyForm:function(e){var t=this;this.$validator.validateAll(e).then(function(e){e?t.saveCompany():alert("You have provided invalid data. Please check again!")})},saveCompany:function(){var e=this;e.company.saving=!0,window.axios.post("/api/companies/new",e.company.data).then(function(t){e.$root.ukNotify(t.data.name+" has been successfully created!"),e.companies.data.push(t.data),e.company.saving=!1,e.company.data={name:"",email:"",address:"",phone:""},$(".ui.modal").modal("hide")})},loadCompanies:function(){var e=this;e.companies.loading=!0,window.axios.get("/api/companies/auth").then(function(t){t.data.forEach(function(t){e.companies.data.push(t)}),setTimeout(function(){e.companies.loading=!1,$(".ui.dropdown.company").dropdown({onChange:function(t,n,o){"new"===t?e.newCompanyModal():e.job.company=t}})},1e3)})},loadCategories:function(){var e=this;e.categories.loading=!0,window.axios.get("/api/app/categories").then(function(t){t.data.forEach(function(t){e.categories.data.push(t)}),setTimeout(function(){$(".ui.checkbox").checkbox()},1e3),e.categories.loading=!1})},loadSectors:function(){var e=this;e.sectors.loading=!0,window.axios.get("/api/app/sectors").then(function(t){t.data.forEach(function(t){e.sectors.data.push(t)}),setTimeout(function(){$(".ui.checkbox").checkbox()},1e3),e.sectors.loading=!1})},loadBroadcasts:function(){var e=this;e.broadcastsConfig.loading=!0,window.axios.get("/api/app/broadcasts-config").then(function(t){e.broadcastsConfig.data=t.data,e.broadcastsConfig.loading=!1})},getAddress:function(e,t){var n=this;if(e&&t){var o="https://api.getAddress.io/find/"+e+"/"+t+"?api-key=Wy--CPV0F0qQHzZgN-jabw12101";n.$root.customUrlRequest(o,"get").then(function(e){var t=e.addresses[0].split(",");n.job.address.line1=t[0].trim(),n.job.address.line2=t[1].trim(),n.job.address.line3=t[2].trim(),n.job.address.line4=t[3].trim(),n.job.address.locality=t[4].trim(),n.job.address.city=t[5].trim(),n.job.address.county=t[6].trim(),n.job.address.coord.latt=e.latitude,n.job.address.coord.long=e.longitude,console.log("ADDRESS",t)}).catch(function(e){n.job.address.line1="",n.job.address.line2="",n.job.address.line3="",n.job.address.line4="",n.job.address.locality="",n.job.address.city="",n.job.address.county="",n.job.address.coord.latt="",n.job.address.coord.long=""})}else console.log("INVALID",e,t)}},components:{},watch:{"job.postcode":function(e,t){this.getAddress(e,this.job.address.houseNumber)},"job.address.houseNumber":function(e,t){this.getAddress(this.job.postcode,e)}},mounted:function(){var e=this;this.loadCounties(),this.loadCompanies(),this.loadCategories(),this.loadSectors(),this.loadBroadcasts(),this.$watch("counties.selected_county_id",function(t,n){t!=n&&e.loadCities(t)}),$(".rating.sia_staff_rating").rating({onRate:function(t){switch(e.job.rating=t,t){case 4:e.ratingMessage="Consider offering 4-star SIA Personnel £10.00";break;case 5:e.ratingMessage="Consider offering 5-star SIA Personnel £12.00";break;default:e.ratingMessage="Minimum wage for all SIA Personnel is £8.00"}}}),$(".ui.checkbox").checkbox(),$(".time-picker").datetimepicker({format:"LT"}).on("change.datetimepicker",function(t){var n=t.target.value;"time_starts"===t.target.id?e.job.time.start=n:e.job.time.end=n})}})},7:function(e,t,n){Vue.component("google-map",n(8))},8:function(e,t,n){var o=n(4)(n(11),n(12),!1,function(e){n(9)},"data-v-1105171a",null);e.exports=o.exports},9:function(e,t,n){var o=n(10);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(2)("bb759ace",o,!0)}});